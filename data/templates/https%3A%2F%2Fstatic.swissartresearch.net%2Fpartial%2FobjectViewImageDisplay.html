
<semantic-table
    query="SELECT DISTINCT ?image ?IIIFimage WHERE {
        <[[#if objectiri]][[objectiri]][[else]][[urlParam urlparam]][[/if]]> crm:P128_carries ?work .
        ?work la:digitally_shown_by ?image .
        OPTIONAL {
            ?image la:digitally_available_via/la:access_point ?IIIFimage
        }
    }"
    number-of-displayed-rows="100"
    tuple-template="{{> template }}"
    options='{
        "showFilter" : false
    }'
    >
    <template id="template">
        <bs-panel>
            {{> thumbnail}}
            {{#if IIIFimage.value }}
                <div class="caption">
                    <semantic-link
                        uri="[[ resolvePrefix 'page:viewImage']]"
                        urlqueryparam-imageiri="{{IIIFimage.value}}"
                        >
                        [[i18n "viewFullImage" bundle="bso"]]
                    </semantic-link>
                </div>
            {{/if}}
        </bs-panel>
    </template>
    <template id="thumbnail">
        <mp-resource-thumbnail iri="{{ image.value }}">
            <mp-resource-thumbnail-fallback>
                <span>[[i18n "imageNotFound" bundle="bso"]]</span>
            </mp-resource-thumbnail-fallback>
        </mp-resource-thumbnail>
    </template>
</semantic-table>